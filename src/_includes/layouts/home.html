{% layout "layouts/base.html" %} {% block content %} {% iconsprite %}
<!-- for smaller projects like this,
  this is ok. find tailwind solution if project grows -->
<style>
  .svg-row {
    fill: #4c4c4c !important;
  }
  .row-0 svg {
    fill: #2d2d2d !important;
  }
  .row-1 svg {
    fill: #353535 !important;
  }
  .row-2 svg {
    fill: #3d3d3d !important;
  }
  .row-3 svg {
    fill: #444444 !important;
  }
</style>
<main
  x-data="initData"
  id="main-content"
  tabindex="-1"
  class="relative m-2 box-border h-[98vh] overflow-hidden bg-grey-14 pt-8"
>
  <div class="wrapper container mx-auto">
    <div class="bg-icons absolute top-[50%] left-2">
      <div class="flex flex-col">
        <template x-for="(y, i) in yRepeats">
          <div class="svg-row flex flex-row" :class="'row-'+i">
            <template x-for="(x, i) in xRepeats">
              <div class="bg-icons-group mb-[36px] flex">
                <svg
                  class="svg-x icon mr-[36px]"
                  role="img"
                  aria-hidden="true"
                  width="24"
                  height="24"
                >
                  <use xlink:href="#svg-x" class="icon mr-[36px]"></use>
                </svg>
                <svg
                  class="svg-circle icon mr-[36px]"
                  role="img"
                  aria-hidden="true"
                  width="24"
                  height="24"
                >
                  <use xlink:href="#svg-circle"></use>
                </svg>
                <svg
                  class="svg-triangle icon mr-[36px]"
                  role="img"
                  aria-hidden="true"
                  width="24"
                  height="24"
                >
                  <use xlink:href="#svg-triangle"></use>
                </svg>
                <svg
                  class="svg-plus icon mr-[36px] rotate-90"
                  role="img"
                  aria-hidden="true"
                  width="24"
                  height="24"
                >
                  <use xlink:href="#svg-plus"></use>
                </svg></div
            ></template>
          </div>
        </template>
      </div>
    </div>
    <h1>
      <span class="hidden">{{ intro.title }}</span>
      <span class="block">
        <svg
          class="svg-smile-face-logo icon mr-[36px]"
          role="img"
          aria-hidden="true"
          width="4rem"
          height="4rem"
        >
          <use
            xlink:href="#svg-smile-face-logo"
            class="logo font-xl mr-[36px]"
          ></use>
        </svg>
      </span>
    </h1>
    <h2><span class="hidden">{{ intro.subtitle }}</span></h2>
  </div>
</main>
<script>
  document.addEventListener('alpine:init', () => {
    function determineWidth() {
      return Math.round((window.innerWidth + 168) / 168)
    }
    function determineHeight() {
      return Math.round((window.innerHeight / 2 + 36) / 60);
    }
    function updateAlpineDimensions() {
      Alpine.data.xRepeats = determineWidth();
      Alpine.data.yRepeats = determineHeight();
    }
    Alpine.data('initData', () => ({
      links: {{ navigation.homeNavigation | json }},
      open: true,
      xRepeats: determineWidth(),
      yRepeats: determineHeight(),
      icons: ['close-outline', 'ellipse-outline', 'triangle-outline', 'close-outline'],
      toggle() {
        this.open = !this.open;
      },
    }));
    window.onresize = updateAlpineDimensions;
  });
</script>
{% endblock %}
